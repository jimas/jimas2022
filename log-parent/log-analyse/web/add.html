<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>address 经纬度</title>
</head>


<body>
<p id="demo">点击这个按钮，获得您的位置：</p>
<button onclick="getLocation()">huo</button>
</body>
<script>
    function intToBytes(number, length) {
        var bytes = [];
        var i = length;
        do {
            bytes[--i] = number & (255);
            number = number >> 8;
        } while (i)
        return bytes;
    }

    function bytesToInt(bs) {
        var val = 0;
        for (var i = 0; i < bs.length; ++i) {
            val += bs[i];
            if (i < bs.length - 1) {
                val = val << 8;
            }
        }
        return val;
    }

    //字符串转字节序列
    function stringToByte(str) {
        var bytes = new Array();
        var len, c;
        len = str.length;
        for (var i = 0; i < len; i++) {
            c = str.charCodeAt(i);
            if (c >= 0x010000 && c <= 0x10FFFF) {
                bytes.push(((c >> 18) & 0x07) | 0xF0);
                bytes.push(((c >> 12) & 0x3F) | 0x80);
                bytes.push(((c >> 6) & 0x3F) | 0x80);
                bytes.push((c & 0x3F) | 0x80);
            } else if (c >= 0x000800 && c <= 0x00FFFF) {
                bytes.push(((c >> 12) & 0x0F) | 0xE0);
                bytes.push(((c >> 6) & 0x3F) | 0x80);
                bytes.push((c & 0x3F) | 0x80);
            } else if (c >= 0x000080 && c <= 0x0007FF) {
                bytes.push(((c >> 6) & 0x1F) | 0xC0);
                bytes.push((c & 0x3F) | 0x80);
            } else {
                bytes.push(c & 0xFF);
            }
        }
        return bytes;

    }

    var x = document.getElementById("demo")

    function getLocation() {

        if (navigator.geolocation) {

            navigator.geolocation.getCurrentPosition(showPosition);

        } else {
            x.innerHTML = "Geolocation is not supported by this browser.";
        }

    }

    function showPosition(position) {

        x.innerHTML = "Latitude: " + position.coords.latitude +

            "<br />Longitude: " + position.coords.longitude;

    }

</script>